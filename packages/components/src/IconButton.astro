---
import { Icon } from "astro-icon";
import type { HTMLAttributes } from "astro/types";
import { css, cx } from "@cieloazul310/sarkara-css/css";
import { iconButton, buttonBase, type IconButtonVariantProps, type ButtonBaseVariantProps } from "@cieloazul310/sarkara-css/recipes";
import type { PropertyTypes } from "@cieloazul310/sarkara-css/types/prop-type";

type ButtonVariants = IconButtonVariantProps &
  ButtonBaseVariantProps;

export type Props = ButtonVariants &
  HTMLAttributes<"button"> & {
    className?: string;
    colorPalette?: PropertyTypes["colorPalette"];
    icon: string;
  };
const {
  visual,
  size,
  shape,
  className,
  icon,
  colorPalette = "neutral",
  ...buttonProps
} = Astro.props;
const classes = iconButton({ size, shape });
---

<button
  class={cx(
    css({ colorPalette }),
    buttonBase({ visual }),
    classes.button,
    className,
  )}
  {...buttonProps}
>
  <Icon name={icon} class={classes.icon} />
</button>
