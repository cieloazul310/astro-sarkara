---
import { PaperLink } from "@cieloazul310/astro-sarkara-components";
import { isMenuItem, type Menu } from "@cieloazul310/astro-sarkara-utils";
import { css } from "styled-system/css";

export interface Props {
  menu: Menu;
}
const { menu } = Astro.props;
---

<nav
  class={css({
    display: "grid",
    gridTemplateColumns: "minmax(0, 1fr)",
    gap: "sm",
  })}
>
  {
    menu.map((menuContent) => {
      if (isMenuItem(menuContent)) {
        return (
          <PaperLink href={menuContent.href}>{menuContent.title}</PaperLink>
        );
      }
      return (
        <section
          class={css({
            display: "grid",
            gridTemplateColumns: "minmax(0, 1fr)",
            gap: "xs",
          })}
        >
          {menuContent.items.map(({ title, href }) => (
            <PaperLink href={href}>{title}</PaperLink>
          ))}
        </section>
      );
    })
  }
</nav>
