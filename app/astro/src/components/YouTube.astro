---
import type { HTMLAttributes } from "astro/types";
import { css } from "@cieloazul310/sarkara-css/css";
import { aspectRatio } from "@cieloazul310/sarkara-css/patterns";

interface Props extends Omit<HTMLAttributes<"iframe">, "src"> {
  src: string;
}
const { src, ...props } = Astro.props;
---

<div
  class:list={[
    aspectRatio({
      ratio: 16 / 9,
      position: "relative",
      maxWidth: "100%",
      overflow: "hidden",
      my: 8,
    }),
    props.class,
  ]}
>
  <iframe
    class={css({
      width: "100%",
      height: "100%",
      top: 0,
      left: 0,
      rounded: "xl",
    })}
    src={`https://www.youtube.com/embed/${src}`}
    {...props}
    title="YouTube video player"
    allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
    allowfullscreen></iframe>
</div>
